package com.deltek.integration.maconomy.custom;

import static com.deltek.integration.maconomy.relations.LinkRelations.dataAnyKey;
import static com.deltek.integration.maconomy.relations.LinkRelations.dataFilter;

import java.util.ArrayList;
import java.util.List;

import com.deltek.integration.maconomy.client.MaconomyClient;
import com.deltek.integration.maconomy.containers.v1.CardTableData;
import com.deltek.integration.maconomy.containers.v1.CardTableRecord;
import com.deltek.integration.maconomy.containers.v1.Container;
import com.deltek.integration.maconomy.containers.v1.FilterData;
import com.deltek.integration.maconomy.containers.v1.FilterRecord;

/**
 * AUTO-GENERATED IMPLEMENTATION OF THE "NOTES" CONTAINER.
 * DO NOT EDIT THIS FILE BY HAND!
 */
public class Notes implements IContainer, IHasFilter<Notes.Filter>, IHasCard<Notes.Card> {

	private static final String CONTAINER_NAME = "notes";
	private final MaconomyClient client;
	private final Container container;

	public Notes(final MaconomyClient client) {
		this.client = client;
		this.container = client.container(CONTAINER_NAME);
	}

	@Override
	public Notes.Filter filter() {
		final FilterData filterData = this.client.transition(container, dataFilter());
		return new Notes.Filter(filterData);
	}

	public static class Filter implements IFilter<Notes.Filter.Create, Notes.Filter.Update>  {

		private final FilterData filterData;

		Filter(final FilterData filterData) {
			this.filterData = filterData;
		}

		@Override
		public List<Notes.Filter.Update> records() {
			final List<Notes.Filter.Update> records = new ArrayList<>();
			for(final FilterRecord record : filterData.getPanes().getFilter().getRecords()) {
				records.add(new Notes.Filter.Update(record));
			}
			return records;
		}

		public static class Create {
		}

		public static class Update {

			private final FilterRecord filterRecord;

			Update(final FilterRecord filterRecord) {
				this.filterRecord = filterRecord;
			}

			RStringField noteNumber() {
				return new RStringField(filterRecord.getData(), "notenumber");
			}

		}

	}

	@Override
	public Notes.Card card() {
		final CardTableData cardTableData = this.client.transition(container, dataAnyKey());
		return new Notes.Card(cardTableData);
	}

	public static class Card implements ICard<Notes.Card.Create, Notes.Card.Update>  {

		private final CardTableData cardTableData;

		Card(final CardTableData cardTableData) {
			this.cardTableData = cardTableData;
		}

		@Override
		public List<Notes.Card.Update> records() {
			final List<Notes.Card.Update> records = new ArrayList<>();
			for(final CardTableRecord record : cardTableData.getPanes().getCard().getRecords()) {
				records.add(new Notes.Card.Update(record));
			}
			return records;
		}

		public static class Create {
		}

		public static class Update {

			private final CardTableRecord record;

			Update(final CardTableRecord cardTableRecord) {
				this.record = cardTableRecord;
			}

			RStringField noteNumber() {
				return new RStringField(this.record.getData(), "notenumber");
			}

		}

	}

}
